<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FlipShop</title>
<link rel="stylesheet" href="style.css">

<style>

body{
margin:0;
font-family:Arial;
background:#f1f3f6;
}

/* HEADER */

.header{
background:#2874f0;
color:white;
display:flex;
align-items:center;
padding:12px;
}

.header-logo{
font-weight:bold;
font-size:18px;
flex:1;
}

.header-actions{
font-size:22px;
cursor:pointer;
}

/* SEARCH */

.search-bar{
background:#2874f0;
padding:10px;
}

.search-bar input{
width:100%;
padding:10px;
border-radius:4px;
border:none;
}

/* CATEGORIES */

.categories-wrapper{
display:flex;
overflow-x:auto;
background:white;
padding:10px;
gap:15px;
}

.category-item{
text-align:center;
font-size:12px;
min-width:70px;
}

.category-item img{
width:50px;
height:50px;
object-fit:contain;
}

/* SLIDER */

.slider{
background:white;
margin-top:8px;
}

.slider img{
width:100%;
display:none;
}

.slider img.active{
display:block;
}

/* PRODUCTS */

.product-grid{
display:grid;
grid-template-columns:repeat(2,1fr);
gap:8px;
padding:8px;
}

.product-card{
background:white;
padding:10px;
border-radius:4px;
}

.product-card img{
width:100%;
height:140px;
object-fit:contain;
}

.product-title{
font-size:14px;
margin-top:5px;
}

.product-price{
font-weight:bold;
}

.btn-add{
background:#ff9f00;
border:none;
color:white;
padding:8px;
width:100%;
margin-top:8px;
border-radius:4px;
}

</style>

</head>
<body>

<!-- HEADER -->

<div class="header">

<div class="header-logo">
FlipShop
</div>

<div class="header-actions" onclick="location.href='cart.html'">
ðŸ›’
</div>

</div>


<!-- SEARCH -->

<div class="search-bar">
<input type="text" placeholder="Search for Products, Brands and More...">
</div>


<!-- CATEGORIES -->

<div class="categories-wrapper" id="categories"></div>


<!-- SLIDER -->

<div class="slider" id="slider"></div>


<!-- PRODUCTS -->

<div class="product-grid" id="productsGrid"></div>



<!-- SCRIPT -->

<script type="module" src="./script.js"></script>

<script>


function renderHome(){

let categories = getLS("categories",[])
let sliders = getLS("sliderImages",[])
let products = getLS("products",[])



/* CATEGORIES */

document.getElementById("categories").innerHTML =
categories.map(c=>`
<div class="category-item">
<img src="${c.img}" onerror="imgError(this)">
<div>${c.name}</div>
</div>
`).join("")



/* SLIDER */

document.getElementById("slider").innerHTML =
sliders.map((s,i)=>`
<img src="${s.url}" class="${i===0?'active':''}">
`).join("")



/* PRODUCTS */

document.getElementById("productsGrid").innerHTML =
products.map(p=>`
<div class="product-card">

<a href="product.html?id=${p.id}">

<img src="${p.mainImg}" onerror="imgError(this)">

<div class="product-title">${p.title}</div>

<div class="product-price">â‚¹${p.price}</div>

</a>

<button class="btn-add" onclick="addToCart('${p.id}')">
Add to Cart
</button>

</div>
`).join("")

}


/* FIRST LOAD */

renderHome()


/* WAIT FIREBASE */

setTimeout(renderHome,1000)
setTimeout(renderHome,2000)
setTimeout(renderHome,3000)



/* AUTO SLIDER */

setInterval(()=>{

let slides=document.querySelectorAll("#slider img")

if(slides.length<2) return

let active=document.querySelector("#slider img.active")

let index=[...slides].indexOf(active)

slides[index].classList.remove("active")

let next=(index+1)%slides.length

slides[next].classList.add("active")

},3000)

</script>

</body>
</html>
